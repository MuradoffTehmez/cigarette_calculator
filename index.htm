<!DOCTYPE html>
<html lang="az">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Siqaret XÉ™rclÉ™ri Hesablama Sistemi</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
    <header>
        <button id="dark-mode-toggle" class="dark-mode-btn">ğŸŒ™</button>
        <h1>Siqaret XÉ™rclÉ™ri Hesablama Sistemi</h1>
    </header>

    <main>
        <!-- Proqram haqqÄ±nda mÉ™lumat -->
        <section id="intro">
            <div class="card">
                <h4>Proqram HaqqÄ±nda</h4>
                <p>
                    Bu proqram sizÉ™ siqaretin iqtisadi vÉ™ saÄŸlamlÄ±q baxÄ±mÄ±ndan tÉ™sirlÉ™rini hesablamaq Ã¼Ã§Ã¼n nÉ™zÉ™rdÉ™
                    tutulub.
                    SiqaretlÉ™ baÄŸlÄ± ÅŸÉ™xsi statistikanÄ±zÄ± asanlÄ±qla izlÉ™yÉ™ vÉ™ sosial mediada paylaÅŸa bilÉ™rsiniz.
                </p>
                <p><strong>MÃ¼É™llif:</strong> TÉ™hmÉ™z Muradov</p>
            </div>
        </section>

        <!-- Siqaret XÉ™rclÉ™ri Hesablama Formu -->
        <section id="form-section">
            <div class="card">
                <form id="cigarette-form">
                    <div>
                        <label for="first-cigarette-date">Siqaret Ã§É™kmÉ™yÉ™ nÉ™ vaxt baÅŸlamÄ±sÄ±nÄ±z?</label>
                        <input type="date" id="first-cigarette-date" class="form-control" required>
                    </div>
                    <div>
                        <label for="daily-amount">GÃ¼ndÉ™lik Ã§É™kilÉ™n siqaret sayÄ± (É™dÉ™d):</label>
                        <input type="number" id="daily-amount" class="form-control" min="1" required>
                    </div>
                    <div>
                        <label for="pack-price">Bir paÃ§kanÄ±n qiymÉ™ti (AZN):</label>
                        <input type="number" step="0.01" id="pack-price" class="form-control" min="0.01" required>
                    </div>
                    <div>
                        <label for="health-risk">Bir siqaretin saÄŸlamlÄ±ÄŸa tÉ™siri (dÉ™qiqÉ™):</label>
                        <input type="number" id="health-risk" class="form-control" min="0" step="1" value="11">
                    </div>
                    <button type="submit" id="calculate-btn">Hesabla</button>
                </form>
            </div>
        </section>

        <!-- NÉ™ticÉ™lÉ™r BÃ¶lmÉ™si -->
        <section id="results">
            <div class="card">
                <h4>NÉ™ticÉ™lÉ™r</h4>
                <table>
                    <thead>
                        <tr>
                            <th>Statistika</th>
                            <th>DÉ™yÉ™r</th>
                        </tr>
                    </thead>
                    <tbody id="results-body"></tbody>
                </table>
                <div id="chart-container">
                    <canvas id="stats-chart"></canvas>
                </div>
            </div>
        </section>

        <!-- Sosial Media PaylaÅŸÄ±m BÃ¶lmÉ™si -->
        <section id="social-share">
            <div class="card">
                <h4>NÉ™ticÉ™lÉ™ri PaylaÅŸ</h4>
                <p>Sosial mediada paylaÅŸmaq Ã¼Ã§Ã¼n seÃ§im edin:</p>
                <button class="btn btn-facebook">Facebook</button>
                <button class="btn btn-twitter">X</button>
                <button class="btn btn-whatsapp">WhatsApp</button>
            </div>
        </section>
    </main>

    <script>
        // Dark Mode funksiyasÄ±
        document.getElementById('dark-mode-toggle').addEventListener('click', function () {
            document.body.classList.toggle('dark-mode');
            if (document.body.classList.contains('dark-mode')) {
                this.textContent = 'ğŸŒ•'; // QaranlÄ±q rejim aÃ§Ä±qdÄ±r
            } else {
                this.textContent = 'ğŸŒ™'; // QaranlÄ±q rejim baÄŸlanÄ±b
            }
        });

        // Siqaret xÉ™rclÉ™rinin hesablanmasÄ±
        document.getElementById('cigarette-form').addEventListener('submit', function (e) {
            e.preventDefault();

            // Formdan verilÉ™n mÉ™lumatlarÄ± almaq
            const firstCigaretteDate = new Date(document.getElementById('first-cigarette-date').value);
            const dailyAmount = Number(document.getElementById('daily-amount').value);
            const packPrice = Number(document.getElementById('pack-price').value);
            const healthRisk = Number(document.getElementById('health-risk').value);

            // Ä°ndiki tarix
            const currentDate = new Date();
            const yearsSmoking = (currentDate - firstCigaretteDate) / (1000 * 3600 * 24 * 365);

            // Siqaret xÉ™rclÉ™rini hesablamaq
            const totalCigarettesPerYear = dailyAmount * 365;
            const yearlyCost = totalCigarettesPerYear * (packPrice / 20); // Bir paketin iÃ§indÉ™ 20 siqaret
            const totalCost = yearlyCost * yearsSmoking;

            // SaÄŸlamlÄ±q riskini hesablamaq
            const totalHealthRisk = dailyAmount * healthRisk * 365 * yearsSmoking;

            // NÉ™ticÉ™lÉ™ri gÃ¶stÉ™rmÉ™k
            const resultsBody = document.getElementById('results-body');
            resultsBody.innerHTML = `
                <tr><td>KeÃ§irilmiÅŸ illÉ™r</td><td>${yearsSmoking.toFixed(2)} il</td></tr>
                <tr><td>Ãœmumi xÉ™rclÉ™r (AZN)</td><td>${totalCost.toFixed(2)} AZN</td></tr>
                <tr><td>SaÄŸlamlÄ±q riski (dÉ™qiqÉ™)</td><td>${totalHealthRisk.toFixed(2)} dÉ™qiqÉ™</td></tr>
            `;

            // Qrafik Ã¼Ã§Ã¼n mÉ™lumat hazÄ±rlamaq
            const ctx = document.getElementById('stats-chart').getContext('2d');
            const chartData = {
                labels: ['XÉ™rclÉ™r (AZN)', 'SaÄŸlamlÄ±q Riski (dÉ™qiqÉ™)'],
                datasets: [{
                    label: 'Siqaret XÉ™rclÉ™ri vÉ™ SaÄŸlamlÄ±q Riski',
                    data: [totalCost, totalHealthRisk],
                    backgroundColor: ['#3498db', '#e74c3c'],
                    borderColor: ['#2980b9', '#c0392b'],
                    borderWidth: 1
                }]
            };

            // Qrafik yaratmaq
            new Chart(ctx, {
                type: 'bar',
                data: chartData,
                options: {
                    responsive: true,
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });
        });

        // Sosial Media PaylaÅŸÄ±m funksiyalarÄ±
        document.querySelector('.btn-facebook').addEventListener('click', function () {
            const url = encodeURIComponent(window.location.href);
            window.open(`https://www.facebook.com/sharer/sharer.php?u=${url}`, '_blank');
        });

        document.querySelector('.btn-twitter').addEventListener('click', function () {
            const url = encodeURIComponent(window.location.href);
            window.open(`https://twitter.com/intent/tweet?url=${url}`, '_blank');
        });

        document.querySelector('.btn-whatsapp').addEventListener('click', function () {
            const url = encodeURIComponent(window.location.href);
            window.open(`https://api.whatsapp.com/send?text=${url}`, '_blank');
        });
    </script>
</body>

</html>